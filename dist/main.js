(()=>{"use strict";const t=[];class e{constructor(t){this.title=t}setProjectList(e){t.shift(e)}}const n=[];class i{constructor(t,e,n,i){this.title=t,this.description=e,this.date=n,this.priority=i}setTaskList(t,e,i,o){n.push({title:t,description:e,"due-date":i,priority:o}),console.log(n)}removeTaskList(t){n.splice(t,1),console.log(n)}updateTaskList(t,e,i,o){n[0].title=t,n[0].description=e,n[0].date=i,n[0].priority=o,console.log(n)}}!function(){const t=document.querySelector(".add-project-button"),n=document.querySelector(".project-container"),o=document.querySelector(".project-list"),s=document.querySelector(".add-task-button");let a=!1,d=!1,l=!1,c=!1;function r(){return document.getElementById("project-title-input")}function u(){if(""===r().value)return r().classList.add("invalid"),function(){const t=document.createElement("p");t.textContent="Project title cannot be empty",t.classList.add("error-message"),document.body.appendChild(t)}(),setTimeout(C,3e3),void r().addEventListener("input",(()=>{""===r().value?r().classList.add("invalid"):""!==r().value&&r().classList.remove("invalid")}));if(r().value.length>12)return function(){const t=document.createElement("p");t.textContent="Project title should not be more than 12 letters",t.classList.add("error-message"),document.body.appendChild(t)}(),setTimeout(C,3e3),r().addEventListener("input",(()=>{r().value.length<=12?r().classList.remove("invalid"):r().value.length>12&&r().classList.add("invalid")})),void r().classList.add("invalid");const t=document.createElement("button"),i=document.createElement("div");i.classList.add("project-left-side");const s=document.createElement("span");s.innerHTML="<i class = 'fa-solid fa-tasks'></i>";const a=document.createElement("p");a.textContent=function(){const t=new e(r().value);return t.setProjectList(t.title),p(),t.title}();const d=document.createElement("div");d.classList.add("project-right-side"),d.innerHTML="<button><i class = 'fa-solid fa-times'></i></button>",i.appendChild(s),i.appendChild(a),t.appendChild(i),t.appendChild(d),o.appendChild(t),n.appendChild(o)}function p(){if(a){const e=document.querySelector(".project-form");r().value="",a=!1,e.removeEventListener("keydown",m),t.style.display="flex",n.removeChild(e)}if(d||l){const t=document.querySelector(".popup-field"),e=document.querySelector("main");d=!1,l=!1,e.removeChild(t)}}function m(){const t=document.querySelectorAll(".addButton"),e=document.querySelector(".project-form");t.forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),a&&u(),d&&function(){const t=document.querySelector(".task-list-container"),e=document.createElement("div");e.classList.add("task-list");const n=document.getElementById("task-title"),o=document.getElementById("task-description"),s=document.getElementById("task-date"),a=document.getElementById("task-priority");if(""===n.value||""===o.value)return void function(){const t=document.querySelectorAll(".form-element"),e=document.getElementById("task-title"),n=document.getElementById("task-description"),i=document.createElement("span"),o=document.createElement("span");e.classList.contains("invalid")||n.classList.contains("invalid")||(i.textContent="Task title is required",i.classList.add("invalid-message"),e.after(i),e.classList.add("invalid"),o.textContent="Task description is required",o.classList.add("invalid-message"),n.after(o),n.classList.add("invalid"),e.addEventListener("input",(()=>{""===e.value?(e.classList.add("invalid"),e.after(i)):e.classList.contains("invalid")&&(e.classList.remove("invalid"),t.forEach((t=>{t.classList.contains("title")&&t.removeChild(i)})))})),n.addEventListener("input",(()=>{""===n.value?(n.classList.add("invalid"),n.after(o)):n.classList.contains("invalid")&&(n.classList.remove("invalid"),t.forEach((t=>{t.classList.contains("description")&&t.removeChild(o)})))})))}();const d=new i(n.value,o.value,s.value,a.value);function l(){return p(),d}d.setTaskList(d.title,d.description,d.date,d.priority);const r=document.createElement("p");r.classList.add("task-title"),r.textContent=l().title;const u=document.createElement("p");u.classList.add("task-description"),u.textContent=l().description;const m=document.createElement("p");""===l().date?m.textContent="No due date":m.textContent=l().date;const v=document.createElement("p");v.textContent=l().priority;const f=document.createElement("div");f.classList.add("visible-task-info");const k=document.createElement("div");k.classList.add("hidden-task-info");const y=document.createElement("div");y.classList.add("task-left-column");const L=document.createElement("div");L.classList.add("task-right-column");const h=document.createElement("div");h.classList.add("task-title-info");const C=document.createElement("span");C.style.fontWeight="bold",C.textContent="Title: ";const b=document.createElement("span");b.classList.add("task-title"),b.textContent=r.textContent,h.appendChild(C),h.appendChild(b);const g=document.createElement("div");g.classList.add("task-date-info");const x=document.createElement("span");x.style.fontWeight="bold",x.textContent="Date: ";const q=document.createElement("span");q.classList.add("task-date"),q.textContent=m.textContent,g.appendChild(x),g.appendChild(q);const S=document.createElement("div");S.classList.add("task-description-info");const T=document.createElement("span");T.style.fontWeight="bold",T.textContent="Description: ";const B=document.createElement("span");B.classList.add("task-description"),B.textContent=u.textContent,S.appendChild(T),S.appendChild(B);const j=document.createElement("div");j.classList.add("task-priority-info");const D=document.createElement("span");D.style.fontWeight="bold",D.textContent="Priority: ";const w=document.createElement("span");w.classList.add("task-priority"),w.textContent=v.textContent,j.appendChild(D),j.appendChild(w);const F=document.createElement("button");F.classList.add("task-edit-button"),F.innerHTML='<i class= "fa-solid fa-pencil"></i>';const N=document.createElement("button");N.innerHTML='<i class="fa-solid fa-flag"></i>',"Low"===l().priority?N.style.color="green":"Medium"===l().priority?N.style.color="orange":"High"===l().priority&&(N.style.color="red");const P=document.createElement("button");P.classList.add("task-delete-button"),P.innerHTML='<i class= "fa-solid fa-trash"></i>';const I=document.createElement("div");I.classList.add("task-left"),I.appendChild(r);const M=document.createElement("div");M.classList.add("task-list-controller"),M.appendChild(F),M.appendChild(N),M.appendChild(P),y.appendChild(h),y.appendChild(g),L.appendChild(S),L.appendChild(j),f.appendChild(I),f.appendChild(M),k.appendChild(y),k.appendChild(L),e.appendChild(f),e.appendChild(k),t.appendChild(e),f.addEventListener("click",(()=>{E(e)})),M.removeEventListener("click",E),c=!0}()})),a&&e.addEventListener("keydown",(t=>{"Enter"===t.key&&a&&u()}))}))}function v(){const t=document.querySelectorAll(".cancelButton"),e=document.querySelector(".project-form");t.forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),p()})),a&&e.addEventListener("keydown",(t=>{"Escape"===t.key&&a&&p()}))}))}d&&console.log("ok");const f=document.querySelector(".task-list-container"),k=new MutationObserver((t=>{t.forEach((t=>{"childList"===t.type&&t.addedNodes.forEach((t=>{t.querySelector(".task-title")&&(t.querySelector(".task-edit-button").addEventListener("click",(t=>{!function(t){document.querySelector("main").appendChild(function(){const t=document.createElement("div");return t.classList.add("popup-field"),t.innerHTML='<form class="edit-form">\n    <fieldset>\n        <div class="column-one">\n            <div class="form-element title">\n                <label for="task-title">Title</label>\n                <input id="task-title" autocomplete = "off">\n            </div>\n\n            <div class="form-element description">\n                <label for="task-description">Description</label>\n                <textarea id="task-description"></textarea>\n            </div>\n        </div>\n\n        <div class="column-two">\n            <div class="form-element date">\n                <label for="task-date">Due Date</label>\n                <input id="task-date" type="date">\n            </div>\n\n            <div class="form-element priority">\n                <label for="task-priority">Priority</label>\n                <select id="task-priority">\n                    <option>Low</option>\n                    <option>Medium</option>\n                    <option>High</option>\n                </select>\n            </div>\n        </div>\n\n    </fieldset>\n    <div class="form-button">\n        <button class="cancelButton">Cancel</button>\n        <button class="updateButton">Update Task</button>\n    </div>\n</form>',t}()),m(),v(),function(t){L().titleField.value=y(t.target,4).querySelector(".task-title").textContent,L().descriptionField.value=y(t.target,4).querySelector(".task-description").textContent,L().dateField.value=y(t.target,4).querySelector(".task-date").textContent,L().priorityField.value=y(t.target,4).querySelector(".task-priority").textContent,l=!0,t.stopPropagation()}(t);const e=document.querySelector(".updateButton"),n=L().titleField,i=L().descriptionField,o=L().dateField,s=L().priorityField,a=h(t).taskTitle,d=h(t).taskDescription,c=h(t).taskDate,r=h(t).taskPriority;e.addEventListener("click",(t=>{t.preventDefault(),a.textContent=n.value,d.textContent=i.value,c.textContent=o.value,r.textContent=s.value,p()}))}(t)})),t.querySelector(".task-delete-button").addEventListener("click",(t=>{!function(t){let e;e=t.target.classList.contains("fa-trash")?t.target.parentNode.parentNode.parentNode.parentNode:t.target.parentNode.parentNode.parentNode;const n=document.querySelector(".task-list-container"),o=document.querySelectorAll(".task-list-container > .task-list"),s=[].indexOf.call(o,e);(new i).removeTaskList(s),n.removeChild(e),t.stopPropagation()}(t)})))}))}))}));function y(t,e){if(t.classList.contains("fa-pencil")){for(let n=0;n<e;n++)t=t.parentNode;return t}for(let n=0;n<e-1;n++)t=t.parentNode;return t}function L(){return{titleField:document.getElementById("task-title"),descriptionField:document.getElementById("task-description"),dateField:document.getElementById("task-date"),priorityField:document.getElementById("task-priority")}}function h(t){return{taskTitle:y(t.target,4).querySelector(".task-title"),secondTaskName:y(t.target,4).querySelector(".hidden-task-info .task-title"),taskDescription:y(t.target,4).querySelector(".task-description"),taskDate:y(t.target,4).querySelector(".task-date"),taskPriority:y(t.target,4).querySelector(".task-priority")}}function C(){const t=document.querySelector(".error-message");document.body.removeChild(t)}function E(t){t.querySelector(".hidden-task-info").classList.toggle("show")}k.observe(f,{childList:!0}),t.addEventListener("click",(()=>{t.style.display="none",document.querySelector(".project-list").before(function(){const t=document.createElement("div");t.classList.add("project-form");const e=document.createElement("input");e.setAttribute("id","project-title-input"),e.setAttribute("autocomplete","off"),e.setAttribute("maxlength","12"),e.placeholder="Enter Project Title",setTimeout((()=>{e.focus()}),0);const n=document.createElement("div");n.classList.add("project-form-button");const i=document.createElement("button");i.textContent="Add",i.classList.add("addButton");const o=document.createElement("button");return o.textContent="Cancel",o.classList.add("cancelButton"),n.appendChild(i),n.appendChild(o),t.appendChild(e),t.appendChild(n),t}()),a=!0,m(),v()})),s.addEventListener("click",(()=>{document.querySelector("main").appendChild(function(){const t=document.createElement("div");return t.classList.add("popup-field"),t.innerHTML='<form class="task-form">\n    <fieldset>\n        <div class="column-one">\n            <div class="form-element title">\n                <label for="task-title">Title</label>\n                <input id="task-title" autocomplete = "off">\n            </div>\n\n            <div class="form-element description">\n                <label for="task-description">Description</label>\n                <textarea id="task-description"></textarea>\n            </div>\n        </div>\n\n        <div class="column-two">\n            <div class="form-element date">\n                <label for="task-date">Due Date</label>\n                <input id="task-date" type="date">\n            </div>\n\n            <div class="form-element priority">\n                <label for="task-priority">Priority</label>\n                <select id="task-priority">\n                    <option>Low</option>\n                    <option>Medium</option>\n                    <option>High</option>\n                </select>\n            </div>\n        </div>\n\n    </fieldset>\n    <div class="form-button">\n        <button class="cancelButton">Cancel</button>\n        <button class="addButton">Add Task</button>\n    </div>\n</form>',t}()),d=!0,m(),v()}))}()})();